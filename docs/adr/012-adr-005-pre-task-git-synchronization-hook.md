# ADR-005: Pre-task Git Synchronization Hook

**Status:** accepted
**Date:** 2026-02-27

## Context

The Controller was previously planning tasks against the local state of the repository, which could lead to stale plans if the remote 'main' branch had diverged or received updates since the last manual pull.

## Decision

Implemented a mandatory 'fetch-on-start' hook in the Controller's task entry point. This hook executes `git fetch origin main` before the planning phase begins. It includes logic to detect the repository root and handles failures gracefully (soft-fail) to support offline environments or restricted CI runners.

## Consequences

Tasks will now always have access to the latest remote metadata for planning. This adds a minor latency overhead at the start of each task (network dependent). It does not automatically merge or rebase; it only updates remote tracking branches.

## Alternatives Considered

- Automatic git pull (rejected due to risk of merge conflicts during execution)
- Manual sync requirement (rejected as it doesn't solve the 'stale plan' problem for automated agents)

---
*Generated by GLITCHLAB / Archivist Nova*
