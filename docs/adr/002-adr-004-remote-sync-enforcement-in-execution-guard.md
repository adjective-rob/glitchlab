# ADR-004: Remote-Sync Enforcement in Execution Guard

**Status:** accepted
**Date:** 2026-02-26

## Context

Executing infrastructure tasks or deployments from an out-of-date local branch leads to state drift, merge conflicts, and potential overwriting of remote changes. The Execution Guard previously only checked local state.

## Decision

Implemented a mandatory remote-sync check within the Execution Guard. The controller now performs a `git fetch` followed by a comparison of local and remote HEADs. If the local branch is behind the remote, execution is halted with a SyncError.

## Consequences

Users must have network access to the remote repository to execute guarded tasks. This adds a small latency penalty to the startup of the controller but significantly reduces the risk of 'lost updates' in a collaborative environment.

## Alternatives Considered

- Warning-only mode (rejected due to high risk level)
- Auto-pulling changes (rejected to avoid unexpected merge commits during execution)

---
*Generated by GLITCHLAB / Archivist Nova*
